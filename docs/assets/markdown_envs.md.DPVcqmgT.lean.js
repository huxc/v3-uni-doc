import{_ as s,c as i,o as a,a4 as n}from"./chunks/framework.B2heqKLL.js";const g=JSON.parse('{"title":"环境变量","description":"","frontmatter":{},"headers":[],"relativePath":"markdown/envs.md","filePath":"markdown/envs.md"}'),e={name:"markdown/envs.md"},t=n(`<h1 id="环境变量" tabindex="-1">环境变量 <a class="header-anchor" href="#环境变量" aria-label="Permalink to &quot;环境变量&quot;">​</a></h1><p>在 <code>Vite</code> 中，环境变量的使用是通过 <code>.env</code> 文件以及在代码中访问这些变量来实现</p><h2 id="定义环境变量" tabindex="-1">定义环境变量 <a class="header-anchor" href="#定义环境变量" aria-label="Permalink to &quot;定义环境变量&quot;">​</a></h2><p><code>.env</code>文件定义在跟目标 <code>/env</code> 文件夹下面：<br></p><ul><li><code>.env</code>：默认的环境变量</li><li><code>.env.production</code>：生产环境的变量</li><li><code>.env.development</code>：开发环境的变量</li><li><code>.env.local</code>：本地覆盖，可以覆盖 <code>.env</code> 文件中的默认变量，不提交到版本控制。</li></ul><p>示例内容：</p><div class="language-env vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">env</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 微信小程序的 appid</span></span>
<span class="line"><span>VITE_MPWX_APPID = &quot;wx92c1da09cd0d523b&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 微服务的 BaseUrl（多服务配置）</span></span>
<span class="line"><span>VITE_API_DOMAIN_JSON = &#39;{</span></span>
<span class="line"><span>  &quot;basics&quot;: &quot;http://172.16.164.37:3001/basics&quot;,</span></span>
<span class="line"><span>  &quot;xxxx&quot;: &quot;http://172.16.164.37:3000/xxxx&quot;</span></span>
<span class="line"><span>}&#39;</span></span></code></pre></div><h2 id="优先级" tabindex="-1">优先级 <a class="header-anchor" href="#优先级" aria-label="Permalink to &quot;优先级&quot;">​</a></h2><p>在加载环境变量时，<code>Vite</code> 会按照以下优先级从高到低加载：</p><ul><li><code>.env.local</code></li><li><code>.env.[mode].local</code>（如 <code>.env.development.local</code>、<code>.env.production.local</code>）</li><li><code>.env.[mode]</code>（如 <code>.env.development</code>、<code>.env.production</code>）</li><li><code>.env</code></li></ul><h2 id="使用环境变量" tabindex="-1">使用环境变量 <a class="header-anchor" href="#使用环境变量" aria-label="Permalink to &quot;使用环境变量&quot;">​</a></h2><p>在 <code>Vite</code> 中，环境变量需要以 <code>VITE\\_ </code>开头。你可以通过 <code>import.meta.env</code> 访问这些变量。例如：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VITE_MPWX_APPID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VITE_API_DOMAIN_JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p><code>import.meta.env</code> 在读取环境变量默认都是字符串，项目已经帮助你自动转换变量类型。可直接使用值<br> 示例内容：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VITE_API_DOMAIN_JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> basics</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> json.basics;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// or</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VITE_API_DOMAIN_JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.basics;</span></span></code></pre></div>`,15),l=[t];function p(h,o,d,k,c,r){return a(),i("div",null,l)}const v=s(e,[["render",p]]);export{g as __pageData,v as default};
